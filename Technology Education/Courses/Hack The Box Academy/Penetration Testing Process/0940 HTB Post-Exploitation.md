# Post-Exploitation

The Post-Exploitation phase occurs after we have exploited a vulnerability that grants us local access to a new plane of sensitive information. This means that we can further evaluate security features to determine if we will use Evasive Testing or not. Pillaging, Privilege Escalation, and Data Exfiltration are also a part of this stage of testing.

#### Evasive Testing

Evasive Testing is employed to determine how well a given security system is at detecting unauthorized users and intruders. We gain unauthorized access and then gradually make our presence more obvious until the security features in place are able to detect us. 

This type of test shows us and the client where the threshold for detection likely is, as this is across a spectrum of detection - while the system may not detect every infiltration of the network, there is certainly a threshold where it's detection methods are effective.

There are three types of this testing method - Evasive, Non-Evasive, and Hybrid-Evasive testing. 

Non-Evasive testing means using every method of attack and making it as obvious as possible that we have infiltrated a network. This would be considered the most "noisy" of all the testing methods available to us. 

Hybrid Evasive testing is a combination of Evasive and Non-Evasive testing that can be used to target specific features of the security system.

#### Information Gathering

It is very important to perform the Information Gathering phase during the post-exploitation stage as we have escalated our privileges and now have access to the local network. This stage reveals much more information than the previous phases such as local servers, printers, databases, and virtual machines. Once we have enumerated the local network, we should have much more exploits available to us for the pillaging phase.

#### Pillaging

The Pillaging stage is where we have more granular access to the configurations and states of the network. We can further examine all the network interfaces: #DNS, #VPN, #IP addresses, #subnet information, routing tables, shared folders, #ARP information, and other traffic related data. 

We can examine policies on the local network to determine possible flaws in policy logic. We can examine local shares, virtual machines, local hosts, scripts, configuration files, password vaults, and sensitive files for passwords.

#### Persistence

Establishing Persistence refers to maintaining a connection to the target system in a case where we are getting disconnected or otherwise interrupted in out testing procedures. We want to maintain a continuous connection so we do not have to re-connect or re-attack the system multiple times during an encounter. This might trigger security measures that wouldn't happen if we had a stable connection.

#### Vulnerability Assessment

With new detected vulnerabilities we will once again need to evaluate what is available to us. We must also consider what may cause damage to the system - we would aim to avoid that by attacking services that can be restored.

#### Privilege Escalation

With new access to the local network, our goal is to achieve root privileges on #Linux and administrator privileges on #Windows.

#### Data Exfiltration

Extracting data that we found on a target system into a system of our own is known as Data Exfiltration. Organizations use Network Monitoring technology to observe and log data exfiltration attempts. Data Loss Prevention ( #DLP) and Endpoint Detection and Response ( #EDR) are two security systems that are commonly used to prevent data exfiltration and secure a network. 

There are a few data types that must be protected with extra care:

- Payment Card Industry ( #PCI) data like credit card information
- Health Insurance Portability and Accountability Act ( #HIPAA)
- Gramm-Leach-Bliley ( #GLBA) consumer banking information data
- Federal Information Security Management Act of 2002 ( #FISMA)

#### Frameworks

There are frameworks designed to protect client data and to present certain standards to be followed. It is useful to familiarize ourselves with these standards:

- #NIST - National Institute of Standards and Technology
- #ISO - International Organization for Standardization
- #GDPR - General Data Protection Regulation
- #FedRAMP - Federal Risk and Authorization Management Program
- #AICPA - American Institute of Certified Public Accountants
- #CIS Controls - Center for Internet Security Controls
- #PCI-DSS - Payment Card Industry Data Security Standard
- #COBIT - Control Objectives for Information and Related Technologies
- #ITAR - International Traffic in Arms Regulations
- #NERC #CIP Standards - NERC Critical Infrastructure Protection Standards